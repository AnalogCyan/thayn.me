# Netlify configuration file

[build]
# Directory to publish
publish = "."

# Edge Functions
[[edge_functions]]
path = "/*"
function = "bots"

# Redirects configuration
[[redirects]]
from = "https://git.thayn.me/*"
to = "https://github.com/AnalogCyan/:splat"
status = 301
force = true

[[redirects]]
from = "https://git.thayn.gay/*"
to = "https://github.com/AnalogCyan/:splat"
status = 301
force = true

[[redirects]]
from = "https://fm.thayn.me/*"
to = "https://camelia.tail794df.ts.net/:splat"
status = 200
force = true

[[redirects]]
from = "/code-of-conduct.txt"
to = "/.well-known/code-of-conduct.txt"
status = 301

[[redirects]]
from = "/humans.txt"
to = "/.well-known/humans.txt"
status = 301

[[redirects]]
from = "/pgp-key.asc"
to = "/.well-known/pgp-key.asc"
status = 301

[[redirects]]
from = "/robots.txt"
to = "/.well-known/robots.txt"
status = 301

[[redirects]]
from = "/security.txt"
to = "/.well-known/security.txt"
status = 301

[[redirects]]
from = "/*"
to = "/index.html"
status = 200

# Custom headers for security and anti-AI directives
[[headers]]
for = "/*"
[headers.values]
# Prevent clickjacking
X-Frame-Options = "DENY"
# Enable HSTS with a max age of 1 year
Strict-Transport-Security = "max-age=31536000; includeSubDomains; preload"
# Prevent MIME type sniffing
X-Content-Type-Options = "nosniff"
# Enable XSS protection
X-XSS-Protection = "1; mode=block"
# Content Security Policy
Content-Security-Policy = "default-src 'self'; img-src 'self' data:; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; font-src 'self' https://cdn.jsdelivr.net https://fonts.gstatic.com; connect-src 'self';"
# Disable caching for development
Cache-Control = "no-store"
# Disallow AI model training reuse
AI-Training = "none"
# Hint LLM and image scrapers to respect opt-out
X-Robots-Tag = "noai, noimageai"

# Headers for specific paths
[[headers]]
for = "/media/*"
[headers.values]
# Disable caching for development
Cache-Control = "no-store"

[[headers]]
for = "/css/*"
[headers.values]
# Disable caching for development
Cache-Control = "no-store"

[[headers]]
for = "/js/*"
[headers.values]
# Disable caching for development
Cache-Control = "no-store"
